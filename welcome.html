<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hopvan - Loading...</title>
    <meta property="og:title" content="HOPVAN - Nền Tảng Học & Luyện Thi Ngữ Văn" />
    <meta property="og:description" content="Nền tảng học tập Ngữ Văn tích hợp AI – hỗ trợ tự học thông minh, phân tích tác phẩm, luyện viết hiệu quả." />
    <meta property="og:image" content="https://hopvan.netlify.app/panel.webp" />
    <meta property="og:url" content="https://hopvan.netlify.app" />
    <meta property="og:type" content="article" />

    <!-- Favicon -->
    <link rel="icon" type="image/webp" href="LOGO.WEBP" />
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;800;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <style>
        :root {
            --primary: #FF8F50;
            --secondary: #FF5E62;
            --bg: #ffffff;
            --text: #2d3436;
        }

        body, html { margin: 0; padding: 0; width: 100%; height: 100%; overflow: hidden; font-family: 'Montserrat', sans-serif; background: #fff; }

        #viewport-container {
            width: 100%; height: 100%; overflow: hidden;
            background: radial-gradient(circle at center, #fffcf9 0%, #fff0e3 100%);
        }

        #viewport {
            position: relative; width: 100vw; height: 100vh;
            perspective: 2000px; transform-style: preserve-3d;
        }

        /* --- BACKGROUND DYNAMICS --- */
        .grid-floor {
            position: absolute; width: 400%; height: 400%; top: -150%; left: -150%;
            background-image: linear-gradient(rgba(255, 94, 98, 0.06) 1px, transparent 1px),
                              linear-gradient(90deg, rgba(255, 94, 98, 0.06) 1px, transparent 1px);
            background-size: 100px 100px;
            transform: perspective(1000px) rotateX(75deg);
            z-index: 0; pointer-events: none;
        }

        #cosmic-bg { position: absolute; width: 100%; height: 100%; transform-style: preserve-3d; z-index: 1; }
        
        .light-trail {
            position: absolute; width: 2px; height: 1000px;
            background: linear-gradient(to bottom, transparent, var(--primary), transparent);
            opacity: 0.15; transform-style: preserve-3d;
        }

        .floating-element { position: absolute; transform-style: preserve-3d; opacity: 0.25; border: 1px solid var(--primary); }

        #camera {
            position: absolute; width: 100%; height: 100%;
            transform-style: preserve-3d; will-change: transform; z-index: 10;
        }

        .scene {
            position: absolute; width: 100%; height: 100%;
            display: flex; flex-direction: column; justify-content: center; align-items: center;
            transform-style: preserve-3d; opacity: 0; visibility: hidden;
            backface-visibility: hidden; 
        }

        .impact-flash {
            position: absolute; inset: 0; background: white; opacity: 0; z-index: 1000; pointer-events: none;
        }

        /* --- TYPOGRAPHY --- */
        .headline {
            font-size: 3.8rem; font-weight: 900; line-height: 1.2;
            color: var(--text); margin: 0; text-align: center; letter-spacing: -1px; text-transform: uppercase;
            text-shadow: 0 10px 30px rgba(0,0,0,0.05);
        }

        .gradient-text {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            -webkit-background-clip: text; -webkit-text-fill-color: transparent;
            display: inline-block; padding-bottom: 5px; position: relative;
        }
        
        .shimmer { position: relative; overflow: hidden; }
        .shimmer::after {
            content: ''; position: absolute; top: 0; left: -150%; width: 100%; height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.8), transparent);
            transform: skewX(-20deg); animation: shimmerFlow 3s infinite;
        }
        @keyframes shimmerFlow { 0% { left: -150%; } 30% { left: 150%; } 100% { left: 150%; } }

        .badge {
            font-size: 0.9rem; font-weight: 800; text-transform: uppercase; letter-spacing: 3px;
            color: var(--secondary); margin-bottom: 25px; 
            background: rgba(255, 94, 98, 0.08); padding: 8px 30px; border-radius: 50px;
        }

        .icon-box { font-size: 7rem; margin-bottom: 20px; background: linear-gradient(to bottom, var(--primary), var(--secondary)); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }

        .ui-container { display: flex; flex-direction: column; align-items: center; justify-content: center; transform-style: preserve-3d; gap: 50px; }
        .glass-mockup { position: relative; width: 1000px; height: 450px; display: flex; justify-content: center; align-items: center; transform-style: preserve-3d; }
        .window { position: absolute; background: rgba(255,255,255,0.9); border-radius: 12px; overflow: hidden; box-shadow: 0 40px 100px -20px rgba(0,0,0,0.2); border: 1px solid rgba(255,255,255,0.5); }
        .window img { width: 100%; height: 100%; object-fit: cover; display: block; object-position: top; }
        
        .w-center { width: 650px; height: 380px; z-index: 10; }
        .w-side { width: 320px; height: 200px; z-index: 5; }

        .outro-group { text-align: center; display: flex; flex-direction: column; align-items: center; transform-style: preserve-3d; }
    </style>
</head>
<body>

    <audio id="bg-music" loop src="https://assets.mixkit.co/music/preview/mixkit-tech-house-vibes-130.mp3"></audio>
    <div class="impact-flash" id="flash"></div>

    <div id="viewport-container">
        <div id="viewport">
            <div class="grid-floor" id="floor"></div>
            <div id="cosmic-bg"></div>
            
            <div id="camera">
                <div class="scene" id="s1" style="transform: translateZ(0px);">
                    <img src="LOGO.WEBP" style="width: 250px;" id="logo-main">
                </div>

                <div class="scene" id="s2" style="transform: translateZ(-3000px);">
                    <div class="badge">Nội dung chuẩn hóa</div>
                    <i class="fas fa-book-reader icon-box"></i>
                    <h1 class="headline">THEO SÁT CHƯƠNG TRÌNH<br><span class="gradient-text shimmer">GDPT 2018</span></h1>
                </div>

                <div class="scene" id="s3" style="transform: translateZ(-6000px);">
                    <div class="badge">Trí tuệ nhân tạo</div>
                    <i class="fas fa-wand-magic-sparkles icon-box"></i>
                    <h1 class="headline">AI CHẤM BÀI <br><span class="gradient-text shimmer">SIÊU TỐC</span></h1>
                </div>

                <div class="scene" id="s4" style="transform: translateZ(-9000px);">
                    <div class="badge">Hệ sinh thái rộng lớn</div>
                    <div style="display:flex; align-items:center; gap:30px;">
                        <h1 class="headline" style="text-align:right;">CỘNG ĐỒNG<br>HỌC SINH</h1>
                        <div id="user-icon" style="width:120px; height:120px; background:var(--primary); border-radius:50%; display:flex; align-items:center; justify-content:center; color:#fff; font-size:3rem; box-shadow:0 0 40px var(--primary);"><i class="fas fa-users"></i></div>
                    </div>
                    <h1 class="headline gradient-text">ĐA DẠNG & KẾT NỐI</h1>
                </div>

                <div class="scene" id="s5" style="transform: translateZ(-12000px);">
                    <div class="ui-container">
                        <h1 class="headline">GIAO DIỆN <span class="gradient-text">PRO</span></h1>
                        <div class="glass-mockup">
                            <div class="window w-side" style="transform: translateX(-500px) rotateY(25deg);"><img src="IMG/dashboard.png"></div>
                            <div class="window w-side" style="transform: translateX(500px) rotateY(-25deg);"><img src="IMG/luyende.png"></div>
                            <div class="window w-center"><img src="IMG/trangchu.png"></div>
                        </div>
                    </div>
                </div>

                <div class="scene" id="s6" style="transform: translateZ(-15000px);">
                    <div class="outro-group">
                        <img src="LOGO.WEBP" style="width: 180px; margin-bottom: 10px;">
                        <h1 class="headline" style="font-size: 4rem;">HOPVAN</h1>
                        <p style="font-weight: 700; color: #666; margin:0;">Nền Tảng Học & Luyện Thi Ngữ Văn</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>

    <script>
        const cosmicBg = document.getElementById('cosmic-bg');
        const audio = document.getElementById('bg-music');
        
        // Cấu hình Timeline: Thêm onComplete để tự chuyển trang
        const tl = gsap.timeline({ 
            onComplete: () => {
                window.location.href = 'dashboard/index.html'; 
            }
        });

        function createDecor() {
            for(let i=0; i<60; i++) {
                const isTrail = Math.random() > 0.6;
                const el = document.createElement('div');
                el.className = isTrail ? 'light-trail' : 'floating-element';
                if(!isTrail) el.style.width = el.style.height = (Math.random() * 30 + 10) + 'px';
                gsap.set(el, { x: (Math.random()-0.5)*4000, y: (Math.random()-0.5)*2000, z: -Math.random()*16000, rotationZ: Math.random()*360 });
                cosmicBg.appendChild(el);
            }
        }

        const runImpact = () => {
            gsap.fromTo("#flash", { opacity: 0.7 }, { opacity: 0, duration: 0.4, ease: "power2.out" });
        }

        function initAnimation() {
            createDecor();
            const camEase = "power3.inOut";
            const sceneOverlap = "-=0.9"; // Tăng độ gối đầu cảnh để nhanh hơn

            // SCENE 1
            tl.to("#s1", { autoAlpha: 1, duration: 0.3 })
              .from("#logo-main", { scale: 0, rotation: -20, duration: 0.8, ease: "back.out(1.7)" })
              .to("#s1", { autoAlpha: 0, scale: 1.1, duration: 0.4 }, "+=0.4");

            // SCENE 2
            tl.to("#camera", { z: 3000, duration: 1.3, ease: camEase }, sceneOverlap)
              .to("#s2", { autoAlpha: 1, visibility: "visible", duration: 0.3 }, "-=1.0")
              .add(runImpact, "-=0.8")
              .from("#s2 .headline", { y: 60, opacity: 0, duration: 0.6 }, "-=0.7")
              .to("#s2", { autoAlpha: 0, scale: 1.1, duration: 0.4 }, "+=0.4");

            // SCENE 3
            tl.to("#camera", { z: 6000, duration: 1.3, ease: camEase }, sceneOverlap)
              .to("#s3", { autoAlpha: 1, visibility: "visible", duration: 0.3 }, "-=1.0")
              .add(runImpact, "-=0.8")
              .from("#s3 .icon-box", { scale: 0, rotation: 180, duration: 0.6 }, "-=0.7")
              .to("#s3", { autoAlpha: 0, scale: 1.1, duration: 0.4 }, "+=0.4");

            // SCENE 4
            tl.to("#camera", { z: 9000, duration: 1.3, ease: camEase }, sceneOverlap)
              .to("#s4", { autoAlpha: 1, visibility: "visible", duration: 0.3 }, "-=1.0")
              .add(runImpact, "-=0.8")
              .from("#s4 .headline", { x: -100, opacity: 0, duration: 0.6 }, "-=0.7")
              .to("#s4", { autoAlpha: 0, scale: 1.1, duration: 0.4 }, "+=0.4");

            // SCENE 5
            tl.to("#camera", { z: 12000, duration: 1.5, ease: camEase }, sceneOverlap)
              .to("#s5", { autoAlpha: 1, visibility: "visible", duration: 0.3 }, "-=1.2")
              .add(runImpact, "-=1.0")
              .from(".w-center", { z: -300, opacity: 0, duration: 0.8 }, "-=0.8")
              .from(".w-side", { scale: 0, opacity: 0, stagger: 0.1, duration: 0.6 }, "-=0.5")
              .to("#s5", { autoAlpha: 0, scale: 1.1, duration: 0.4 }, "+=1.5");

            // SCENE 6 (OUTRO)
            tl.to("#camera", { z: 15000, duration: 1.3, ease: camEase }, sceneOverlap)
              .to("#s6", { autoAlpha: 1, visibility: "visible", duration: 0.5 }, "-=0.8")
              .add(runImpact, "-=0.6")
              .from(".outro-group", { y: 30, opacity: 0, duration: 0.8 }, "-=0.4")
              .to("body", { opacity: 0, duration: 0.5 }, "+=1.5"); // Fade out body trước khi redirect

            gsap.to("#floor", { y: "+=100", duration: 20, repeat: -1, ease: "none" });
        }

        // TỰ ĐỘNG CHẠY KHI TRANG TẢI XONG
        window.onload = () => {
            setTimeout(() => {
                try { audio.play(); } catch(e) { console.log("Audio autoplay blocked"); }
                initAnimation();
                tl.play();
            }, 300); // Đợi 0.3s cho mượt rồi chạy luôn
        };
    </script>
</body>
</html>