<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HopVan - Loading...</title>
    <meta property="og:title" content="HOPVAN - Nền Tảng Học & Luyện Thi Ngữ Văn" />
    <meta property="og:description" content="Nền tảng học tập Ngữ Văn tích hợp AI – hỗ trợ tự học thông minh." />
    <meta property="og:image" content="https://hopvan.netlify.app/panel.webp" />
    
    <link rel="icon" type="image/webp" href="LOGO.WEBP" />
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;800;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    
    <style>
        :root {
            --primary: #FF8F50;
            --secondary: #FF5E62;
            --text: #2d3436;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        body, html { 
            width: 100%; height: 100%; overflow: hidden; 
            background: #fff;
            font-family: 'Montserrat', sans-serif;
        }

        h1, p, span, div, b { font-family: 'Montserrat', sans-serif !important; }
        
        i, .fa-solid, .fas, .fa-brands { 
            font-family: "Font Awesome 6 Free" !important; 
            font-weight: 900 !important; 
            font-style: normal !important;
        }

        #viewport-container { 
            width: 100%; height: 100%; overflow: hidden; 
            background: radial-gradient(circle at center, #fffcf9 0%, #fff0e3 100%);
            position: relative;
            display: flex; justify-content: center; align-items: center;
        }

        .grid-floor { 
            position: absolute; width: 200%; height: 200%; top: -50%; left: -50%; 
            background-image: linear-gradient(rgba(255, 94, 98, 0.04) 1px, transparent 1px), 
                              linear-gradient(90deg, rgba(255, 94, 98, 0.04) 1px, transparent 1px); 
            background-size: 100px 100px; 
            transform: perspective(1000px) rotateX(60deg); 
            animation: gridFlow 15s linear infinite; 
            z-index: 1; opacity: 0.6;
        }
        @keyframes gridFlow { 0% { transform: perspective(1000px) rotateX(60deg) translateY(0); } 100% { transform: perspective(1000px) rotateX(60deg) translateY(100px); } }

        .scene-container { position: relative; z-index: 10; width: 100%; height: 100%; }

        .scene {
            position: absolute; inset: 0;
            display: flex; flex-direction: column; justify-content: center; align-items: center;
            opacity: 0; visibility: hidden;
            text-align: center;
            will-change: opacity;
        }

        .headline { font-size: 2.8rem; font-weight: 900; line-height: 1.2; color: var(--text); text-transform: uppercase; letter-spacing: -1px; }
        .gradient-text { background: linear-gradient(135deg, var(--primary), var(--secondary)); -webkit-background-clip: text; -webkit-text-fill-color: transparent; display: inline-block; }
        
        .icon-box { font-size: 4.5rem; margin-bottom: 20px; color: var(--primary); }
        .badge { font-size: 0.7rem; font-weight: 800; text-transform: uppercase; color: var(--secondary); margin-bottom: 12px; background: rgba(255, 94, 98, 0.08); padding: 5px 22px; border-radius: 50px; letter-spacing: 2px; }

        .loader-wrap { position: fixed; bottom: 50px; left: 50%; transform: translateX(-50%); width: 220px; height: 3px; background: rgba(0,0,0,0.05); border-radius: 10px; overflow: hidden; z-index: 100; }
        .loader-bar { width: 0%; height: 100%; background: linear-gradient(90deg, var(--primary), var(--secondary)); }
    </style>
</head>
<body>

    <audio id="bg-music" loop src="https://assets.mixkit.co/music/preview/mixkit-tech-house-vibes-130.mp3"></audio>

    <div id="viewport-container">
        <div class="grid-floor"></div>
        
        <div class="scene-container">
            <div class="scene" id="s1">
                <img src="LOGO.WEBP" style="width: 130px; margin-bottom: 15px; opacity: 0.9;">
                <h1 class="headline" style="font-size: 3.2rem;">HOPVAN</h1>
            </div>
            
            <div class="scene" id="s2">
                <div class="badge">Nội dung</div>
                <i class="fa-solid fa-book-open icon-box"></i>
                <h1 class="headline">HỆ THỐNG<br><span class="gradient-text">GDPT 2018</span></h1>
            </div>

            <div class="scene" id="s3">
                <div class="badge">Công nghệ</div>
                <i class="fa-solid fa-microchip icon-box"></i>
                <h1 class="headline">AI CHẤM BÀI<br><span class="gradient-text">SIÊU TỐC</span></h1>
            </div>

            <div class="scene" id="s4">
                <div class="badge">Dữ liệu</div>
                <i class="fa-solid fa-layer-group icon-box"></i>
                <h1 class="headline">KHO HỌC LIỆU<br><span class="gradient-text">ĐA DẠNG</span></h1>
            </div>
        </div>

        <div class="loader-wrap">
            <div class="loader-bar" id="bar"></div>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>

    <script>
        const audio = document.getElementById('bg-music');
        
        const tl = gsap.timeline({ 
            paused: true,
            onComplete: () => { 
                gsap.to("body", { opacity: 0, duration: 0.3, onComplete: () => {
                    window.location.href = 'dashboard/index.html'; 
                }});
            }
        });

        function initAnimation() {
            // 1. THANH PROGRESS CHẠY RIÊNG (Đúng 5 giây)
            gsap.to("#bar", { width: "100%", duration: 5, ease: "none" });

            // 2. TIMELINE SCENE (Tổng 5 giây cho 4 cảnh)
            const ids = ['#s1', '#s2', '#s3', '#s4'];
            const fadeTime = 0.5; // Tăng nhẹ thời gian fade để mượt hơn
            const stayTime = 0.6; // Tăng nhẹ thời gian dừng vì còn ít cảnh
            const overlap = "-=0.2"; 

            ids.forEach((id, index) => {
                // Fade In
                tl.to(id, { 
                    autoAlpha: 1, 
                    duration: fadeTime, 
                    visibility: 'visible',
                    ease: "sine.inOut" 
                }, index === 0 ? 0 : overlap);
                
                // Fade Out (Trừ cảnh cuối cùng s4)
                if (index < ids.length - 1) {
                    tl.to(id, { 
                        autoAlpha: 0, 
                        duration: fadeTime,
                        ease: "sine.inOut"
                    }, `+=${stayTime}`);
                }
            });
        }

        window.addEventListener('load', () => {
            initAnimation();
            try { 
                audio.volume = 0.4;
                audio.play(); 
            } catch(e) {}
            tl.play();
        });
    </script>
</body>
</html>